---
import { getLangFromUrl, useTranslations, interpolate } from '@shared/lib/i18n';
import LinkedInIcon from '@assets/icons/LinkedIn.astro';
import MailIcon from '@assets/icons/Mail.astro';
import { Avatar, SocialPill } from '@shared/ui';
import GitHubIcon from '@assets/icons/GitHub.astro';
import { Language } from '@shared/config/i18n';

const langCode = getLangFromUrl(new URL(Astro.request.url));
const lang = langCode === 'en' ? Language.ENGLISH : Language.SPANISH;
const t = useTranslations(lang);

// Prepare avatar alt text with i18n
const avatarAltTemplate = t('avatar.alt');
const avatarAlt = interpolate(avatarAltTemplate, {
	name: 'Juan David Sandoval Salvador',
});
---

<div class="w-full max-w-3xl">
	<div class="flex flex-col sm:flex-row gap-4 mb-6 items-center">
		<Avatar src="/profile/perfil.webp" alt={avatarAlt} size="responsive" />
		<h1
			class="text-3xl sm:text-4xl md:text-5xl font-bold tracking-tight text-gray-800 dark:text-white text-center sm:text-left"
		>
			{t('hero.intro')}
		</h1>
	</div>
	<p
		class="mt-4 sm:mt-6 text-base sm:text-lg md:text-xl text-gray-800 dark:[&>strong]:text-yellow-200 [&>strong]:text-yellow-500 [&>strong]:font-semibold dark:text-gray-300 text-center sm:text-left"
		set:html={t('hero.description')}
	/>
	<nav class="flex flex-wrap justify-center md:justify-start gap-4 mt-8">
		<SocialPill href="mailto:devsandoval.me@gmail.com">
			<MailIcon class="size-4" />
			Cont√°ctame
		</SocialPill>
		<SocialPill href="https://www.linkedin.com/in/devsandoval/">
			<LinkedInIcon class="size-4" />
			LinkedIn
		</SocialPill>
		<SocialPill href="https://github.com/sandovaldavid">
			<GitHubIcon class="size-4" />
			GitHub
		</SocialPill>
	</nav>
</div>
